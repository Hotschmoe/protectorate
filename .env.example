# Protectorate Environment Configuration
# Copy to .env and customize as needed

# =============================================================================
# Envoy Server Settings
# =============================================================================

# HTTP server port (default: 7470)
# ENVOY_PORT=7470

# Sleeve polling interval (default: 1h)
# ENVOY_POLL_INTERVAL=1h

# Idle timeout before sleeve is stopped, 0 = never (default: 0)
# ENVOY_IDLE_THRESHOLD=0

# Maximum concurrent sleeves (default: 10)
# ENVOY_MAX_SLEEVES=10

# =============================================================================
# Docker Settings
# =============================================================================

# Docker network for envoy/sleeve communication (default: raven)
# DOCKER_NETWORK=raven

# Container path for workspaces (default: /home/claude/workspaces)
# WORKSPACE_ROOT=/home/claude/workspaces

# Host path for workspaces (required - set by compose)
WORKSPACE_HOST_ROOT=${PWD}/workspaces

# Sleeve image (default: ghcr.io/hotschmoe/protectorate-sleeve:latest)
# For local dev, set to: protectorate/sleeve:latest
# SLEEVE_IMAGE=ghcr.io/hotschmoe/protectorate-sleeve:latest

# =============================================================================
# Claude Credentials (host paths for bind mounts)
# =============================================================================

CREDENTIALS_HOST_PATH=${HOME}/.claude/.credentials.json
SETTINGS_HOST_PATH=${HOME}/.claude.json
PLUGINS_HOST_PATH=${HOME}/.claude/plugins

# =============================================================================
# Git Settings
# =============================================================================

# CLONE PROTOCOL: ssh (default) or https
# SSH: Converts https://github.com/user/repo to git@github.com:user/repo.git
# HTTPS: Keeps URLs as-is (requires git-credentials for push)
GIT_CLONE_PROTOCOL=ssh

# IDENTITY: By default, inherits from host ~/.gitconfig
# To override, set these env vars:
# GIT_COMMITTER_NAME=Your Name
# GIT_COMMITTER_EMAIL=you@example.com

# AUTHENTICATION:
#
# For SSH (default):
#   - ~/.ssh is mounted automatically
#   - Requires SSH key added to GitHub/GitLab
#
# For HTTPS:
#   - Create ~/.git-credentials with: https://USERNAME:TOKEN@github.com
#   - Add volume mount: - ${HOME}/.git-credentials:/root/.git-credentials:ro
#
# Future: With local Gitea, each container (envoy/sleeves) could have
# its own identity and push credentials using container name as identity

# =============================================================================
# Development Settings
# =============================================================================

# Enable development mode (more verbose logging)
# DEV_MODE=true

# =============================================================================
# Gitea Settings (optional - for git server integration)
# =============================================================================

# GITEA_URL=http://gitea:3000
# GITEA_USER=
# GITEA_PASSWORD=
# GITEA_TOKEN=

# =============================================================================
# GitHub Mirror Settings (optional - for repo mirroring)
# =============================================================================

# MIRROR_ENABLED=false
# MIRROR_FREQUENCY=daily
# MIRROR_GITHUB_ORG=
# MIRROR_GITHUB_TOKEN=
